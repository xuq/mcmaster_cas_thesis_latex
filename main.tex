\RequirePackage[l2tabu, orthodox]{nag} %Package complains about uses of old functions, make sure you write modern latex
\documentclass[letterpaper,12pt,twoside,openright]{report} %twoside an openright make the doucment look like a "real textbook" style formatting
\usepackage[english,canadian]{babel}
\usepackage{amsmath} %AMS Math Package
\usepackage{amssymb} %AMS Math Symbols
\usepackage[letterpaper,twoside,top=3.8cm,bottom=2.5cm,inner=2.5cm,outer=3.8cm]{geometry} %Sets up basic page dimensions
\usepackage[tracking=true,kerning=true,expansion=true,spacing=true]{microtype} %makes type look better
\microtypecontext{spacing=nonfrench}
\usepackage{booktabs} %makes tables look better with nicer borders
\usepackage{siunitx} %provides standard printing for SI units
\usepackage[breaklinks,hidelinks]{hyperref} %Provides clickable links
\usepackage[capitalize,noabbrev]{cleveref} %Allows use of \cref, which knows what kind of ref you're making, so you don't have to write EQN and such
\usepackage{ifpdf} %Conditions for if pdftex is running
\usepackage[T1]{fontenc} %upgrades font encodings
\usepackage[utf8]{inputenc}%Tells latex the file is saved as UTF-8 (make sure it is!)
\usepackage{lmodern} %improved version of computer modern font
\usepackage{multirow} %Allows for mulirow a.k.a. grouped cells in tables
\usepackage{upgreek} %Provides upright (non italic) greek fonts
\usepackage{gensymb} %Provides  \de­gree, \cel­sius, \pert­hou­sand, \mi­cro and \ohm amongst others
\usepackage{textcomp}
\usepackage{textgreek} %Provides \textbeta and similar greek letters in text mode
%\usepackage[section]{placeins} %Fixes placement of figures so they don't cross section boundaries
\usepackage[section,subsection,subsubsection]{extraplaceins} %Modified version of placeins which works at section, subsection and subsubsection
\usepackage{verbatim}%Fixes bugs in \verbatim, and provides \begin{comment} and \verbatiminput for including files
\usepackage{syntonly}%Provides syntax-only latex runs, useful for when the document starts getting big!
\usepackage{csquotes}
\usepackage{float} %Fixes up floats (figures) and provides the H placement modifier (place the float RIGHT HERE). with great power...

% use biblatex instead of biber
%\usepackage[style=numeric-comp,backend=biber,sorting=none,backref=true,maxnames=99,alldates=edtf]{biblatex} 
%\addbibresource{library.bib} %This is how you add your bib files

\usepackage[english]{isodate}%Convert any date formats to ISO style
\usepackage{listing}%Package for listing sourcecode with syntax highlighting
\usepackage{ellipsis}%Fix \ldots and similar commands, bugs with spacing and such
\usepackage{graphicx} %Standard graphics spackage
\setkeys{Gin}{width=0.75\textwidth} %Sets default width of \includegraphics{}
\usepackage{lastpage} %Used to count the number of pages for the descriptive note
\usepackage{nomencl} %Used to generate the Abbreviations page
\usepackage[raggedright]{titlesec} %This fixes hypenation in long chapter/section titles

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\usepackage{color, colortbl}
\definecolor{Gray}{gray}{0.9}
\usepackage{subcaption}

% Load basic packages
\usepackage{xcolor, graphicx} % for EPS, load graphicx instead

\usepackage{booktabs}

% Some optional stuff you might like/need.
\usepackage{microtype}  % Improved Tracking and Kerning
\usepackage{ccicons}

\hyphenation{op-tical net-works semi-conduc-tor}


% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %

\pdfminorversion=5 %This sets the PDF versions allowing better compression
\pdfobjcompresslevel=3
\pdfcompresslevel=9

\usepackage{subcaption} %The standard method to do figures with a), b) and such
\usepackage{fancyhdr} %Package for changing header/footer
\usepackage{lineno} %Allows labeling of line numbers throughout document
\usepackage{makeidx} %For generating index files
\usepackage{lipsum} %Prints junk text with \lipsum
\usepackage{setspace} %Provides \doublespacing command
\usepackage{todonotes} %Provides \todo{something} which puts labels in magin and \missingfigure{something} to put in placeholder figures

\widowpenalty=300 %Prevent widows (single sentences at end of page)
\clubpenalty=300 %Prevent orphans (single sentences on empty pages)
%\doublespacing %Uncomment to turn on double spacing
\onehalfspacing %Double spacing is crazy large, don't do it.
%\linenumbers %Uncomment to turn on line numbers
%\syntaxonly %Uncomment to only check compile for syntax PRODUCES NO OUTPUT
\setlength{\headheight}{15pt} %Fixes header height

\hypersetup{
    unicode=true,
    pdftoolbar=true,
    pdfmenubar=true,
    pdffitwindow=false,
    pdfstartview={FitV},
    pdftitle={Fingerprints for Indoor Localization},
    pdfauthor={Qiang Xu},
    pdfsubject={Subject},
    pdfkeywords={Indoor Localization} {Mobile Crowdsensing} {Fingerprint},
    pdfnewwindow=true,
    colorlinks=false,
    linkcolor=red,
    citecolor=green,
    filecolor=magenta,
    urlcolor=cyan
}

\usepackage{multirow}
\usepackage{longtable}
\usepackage{listings}
\usepackage{color}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
	language=Java,
	aboveskip=3mm,
	belowskip=3mm,
	showstringspaces=false,
	columns=flexible,
	basicstyle={\small\ttfamily},
	numbers=none,
	numberstyle=\tiny\color{gray},
	keywordstyle=\color{blue},
	commentstyle=\color{dkgreen},
	stringstyle=\color{mauve},
	breaklines=true,
	breakatwhitespace=true,
	tabsize=3
}

\title{Fingerprints for Indoor Localization}
\author{Qiang Xu}
\date{\today}

%This stuff is used to generate a nomenclature section
\makeindex
\renewcommand{\nomname}{List of Abbreviations}
\renewcommand{\nomlabel}[1]{\textbf{#1}}
\makenomenclature
\raggedbottom

\begin{document}

\begin{titlepage} %Half-title page for McMaster Formatting, Max 60 Characters
    \thispagestyle{empty}
    \topskip0pt
    \vspace*{\fill}
    \begin{center}{\Large
    \uppercase{Fingerprints for Indoor Localization}}
    \end{center}
    \vspace*{\fill}
    \setcounter{page}{0} %This page needs to be "unnumbered" so we give it number zero
\end{titlepage}

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\begin{titlepage} %Titlepage
\thispagestyle{empty}
\pagenumbering{roman}
\centering
\vspace*{\fill} %This makes text vertically centered
{\Large \uppercase{Fingerprints for Indoor Localization}\\
\vfill
By QIANG \ XU\\}
\vfill
A Thesis Submitted to the School of Graduate Studies in Partial Fulfillment of
the Requirements for the Degree Doctor of Philosophy
\vfill%This pushes copyright to the bottom
McMaster University \textcopyright{} Copyright by Qiang\ Xu, December 2017
\end{titlepage}

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
{
	\noindent DOCTOR OF PHILOSOPHY (2017) 
	\hfill
	McMaster University
	
	\noindent (Computer Science) 
	\hfill 
	Hamilton, Ontario, Canada
	
	\vspace{0.6in}
\begin{tabbing}
	\hspace*{5cm}\=\hspace*{1cm}\= \kill
	TITLE: \>  Fingerprints for Indoor Localization\\
	\\
	AUTHOR:\>  Qiang Xu\\
	\>M.Sc., (Computer Science)\\
	\>University of Chinese Academy of Sciences, Beijing, China\\
	\\
	SUPERVISOR:\> Dr. Rong Zheng\\
	\\
	NUMBER OF PAGES:\> xi,~\pageref{LastPage}
\end{tabbing}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\thispagestyle{empty}
\null\vfill
\begin{center}
	%\textbf{Dedications}
	%\linebreak
	\textsl{To my family}
\end{center}
\vfill
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\begin{abstract}
\thispagestyle{plain} 
\setcounter{page}{4} 
Location-based services have experienced substantial growth in the last decade. However, despite extensive research efforts, sub-meter location accuracy with low-cost infrastructure continues to be elusive. 
\end{abstract}

%TODO: revise the acknowledgements
\renewcommand{\abstractname}{Acknowledgements}
\begin{abstract} 
\setcounter{page}{6} 
\thispagestyle{plain}
Thanks to ...   
\end{abstract}
    
    \setcounter{secnumdepth}{4}
    \setcounter{tocdepth}{3}
    \tableofcontents %Prints table of contents
    
    {\listoffigures \let\cleardoublepage\clearpage %This fixes up an extra blank page
    	
    \printnomenclature
	} %Print glossary/nomenclature/abbreviations


\renewcommand{\abstractname}{Declaration of Academic Achievement}
\begin{abstract} %TODO
\thispagestyle{plain} 
\setcounter{page}{11}
The work presented here is the result of research performed by myself during the years 2013-2017. Results which have substantial contributions from other authors are clearly prefaced and the contributions of those authors are indicated.
\end{abstract}
    
    % \listoftodos %Uncomment this to generate a list of todos (useful for keeping track of things)
    \pagenumbering{arabic} %Reset page numbering

%Fix all the header/footer according to McMaster Requirements
    \pagestyle{fancy}
    \fancyhead{}
    \fancyfoot{}
    \fancyhead[RE,LO]{McMaster University --- Computer Science}
    \fancyhead[LE,RO]{PhD Thesis --- Qiang Xu}
    \fancyfoot[CE,CO]{\thepage}

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
%Thesis starts here

%For large LaTeX documents, it is best practice to separate the material into smaller files so that it is easier to handle, use \include to insert each file into the overall document
\chapter{Introduction}
\label{ch:Intro}
\include{intro}

\chapter{Related Work}
\label{ch:Relate}
\include{relate}

\chapter{Concluding Remarks}
\label{ch:Concluding}
\include{closing}

\nomenclature{IPS}{Indoor Positioning System}
\nomenclature{GPS}{Global Positioning System}
\nomenclature{PDR}{Pedestrian Dead Reckoning}
\nomenclature{IMU}{Inertial Measurement Units}
\nomenclature{MEMS}{Micro Elecro-Mechanical Systems}
\nomenclature{MCS}{Mobile Crowdsensing}
\nomenclature{DTW}{Dynamic Time Warping}
\nomenclature{LBS}{Location Based Service}
\nomenclature{RSS}{Received Signal Strength}
\nomenclature{GP}{Gaussian Process}
\nomenclature{AP}{Access Point}
\nomenclature{QR}{Quick Response}
\nomenclature{VLC}{Visible Light Communication}


\bibliographystyle{IEEETran}
\bibliography{library}
%\printindex

\end{document}
